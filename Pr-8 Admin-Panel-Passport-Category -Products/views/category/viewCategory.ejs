<%- include('../header') %>

<div class="page-wrapper">
  <div class="container-fluid py-4">

    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h3 class="fw-bold text-primary mb-1">Category Management</h3>
        <p class="text-muted mb-0">Manage and organize your main product categories efficiently</p>
      </div>
     
    </div>

    <!-- Search Section -->
    <div class="card border-0 shadow-sm mb-4">
      <div class="card-body">
        <form class="d-flex flex-wrap gap-2 align-items-center">
          <input 
            type="text" 
            name="search" 
            class="form-control shadow-sm" 
            placeholder="ğŸ” Search category by name..." 
            style="max-width: 400px;"
          />
          <button class="btn btn-success shadow-sm">Search</button>
          <a href="/category/viewcategory" class="btn btn-outline-secondary shadow-sm">Reset</a>
        </form>
      </div>
    </div>

    <!-- Category Table -->
    <div class="card border-0 shadow-lg">
      <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center rounded-top">
        <h5 class="mb-0">ğŸ“ Category List</h5>
        <span class="badge bg-light text-dark">Total: <%= category.length %></span>
      </div>

      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover align-middle mb-0">
            <thead class="table-light border-bottom">
              <tr class="text-center">
                <th>#</th>
                <th>Category Image</th>
                <th>Category Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% if (category && category.length > 0) { %>
                <% category.map((v, i) => { %>
                  <tr class="text-center">
                    <td class="fw-semibold"><%= i + 1 %></td>
                    <td>
                      <img 
                        src="<%= v.categoryimage %>" 
                        alt="Category Image" 
                        class="rounded-circle border shadow-sm" 
                        style="height:60px; width:60px; object-fit:cover;"
                      >
                    </td>
                    <td class="fw-medium text-capitalize"><%= v.categoryname %></td>
                    <td>
                      <a href="/category/editcategory/<%= v.id %>" 
                         class="btn btn-sm btn-warning me-2 shadow-sm">
                        âœï¸ Edit
                      </a>
                      <a href="/category/deletecategory/<%= v.id %>" 
                         class="btn btn-sm btn-danger shadow-sm"
                         onclick="return confirm('Are you sure you want to delete this category?')">
                        ğŸ—‘ï¸ Delete
                      </a>
                    </td>
                  </tr>
                <% }) %>
              <% } else { %>
                <tr>
                  <td colspan="4" class="text-center text-muted py-4">
                    No Categories Found ğŸ˜”
                  </td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>
</div>

<%- include('../footer') %>
