<%- include('../header') %>

<div class="page-wrapper d-flex flex-column min-vh-100">
  <div class="container-fluid flex-grow-1">
    <h2 class="text-center mb-5 fw-bold">✨ All Blogs ✨</h2>
    
    <div class="row g-4">
      <% data.forEach((blog) => { %>
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card blog-card h-100 border-0 shadow-lg rounded-4 overflow-hidden">
            
            <!-- Blog Image -->
            <div class="position-relative">
              <img src="<%= blog.image %>" class="card-img-top" alt="Blog Image"
                style="height:220px; object-fit:cover; filter:brightness(90%);">
            </div>

            <!-- Blog Content -->
            <div class="card-body d-flex flex-column p-4">
              <h5 class="card-title fw-bold text-dark mb-2">
                <i class="bi bi-journal-text text-primary"></i> <%= blog.title %>
              </h5>
              <p class="card-text text-muted small mb-3">
                <%= blog.description.substring(0, 120) %>...
              </p>

              <!-- Actions -->
              <div class="mt-auto d-flex gap-2 flex-wrap">
                <a href="/blog/detail/<%= blog._id %>" class="btn btn-sm btn-read">
                  <i class="bi bi-book-half"></i> Read
                </a>
                <a href="/blog/edit/<%= blog._id %>" class="btn btn-sm btn-edit">
                  <i class="bi bi-pencil"></i> Edit
                </a>
                <form action="/blog/delete/<%= blog._id %>" method="post" style="display:inline;">
                  <button type="submit" class="btn btn-sm btn-delete">
                    <i class="bi bi-trash3"></i> Delete
                  </button>
                </form>
              </div>
            </div>

          </div>
        </div>
      <% }) %>
    </div>
  </div>
</div>


<style>
  /* Card Styling */
  .blog-card {
    background: #ffffffcc;
    backdrop-filter: blur(6px);
    border: 1px solid rgba(0,0,0,0.05);
    transition: all 0.3s ease;
  }
  .blog-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 12px 30px rgba(0,0,0,0.2);
  }

  /* Buttons */
  .btn-read {
    background: linear-gradient(135deg, #43cea2, #185a9d);
    color: #fff;
    border: none;
  }
  .btn-read:hover {
    background: linear-gradient(135deg, #185a9d, #43cea2);
    color: #fff;
  }

  .btn-edit {
    background: linear-gradient(135deg, #f7971e, #ffd200);
    color: #fff;
    border: none;
  }
  .btn-edit:hover {
    background: linear-gradient(135deg, #ffd200, #f7971e);
    color: #fff;
  }

  .btn-delete {
    background: linear-gradient(135deg, #ff4b2b, #ff416c);
    color: #fff;
    border: none;
  }
  .btn-delete:hover {
    background: linear-gradient(135deg, #ff416c, #ff4b2b);
    color: #fff;
  }
</style>

<%- include('../footer') %>
